{"version":3,"sources":["helper.js","Notes.js","PasswordOverlay.js","ExpandedOptions.js","constants.js","Editor.js","Search.js","App.js","index.js"],"names":["improvedSearch","str","searchedWord","lis","split","searchedWordLis","n","length","kn","i","word","toLowerCase","substr","console","log","k","i2","searchedCurrentWordLength","Note","props","note","setIsEditorActive","setEditingNote","deleteNote","onClick","obj","id","fmtext","isEncrypted","title","className","e","stopPropagation","rawtext","Notes","notes","noteArray","map","a","b","j","Math","random","toFixed","join","generate_token","PasswordOverlay","useState","pass","setPass","file","setFile","onSave","setIsoverlayActive","passwordNote","label","isInputJSON","handleChange","target","files","value","inputJSON","accept","type","onChange","autoFocus","ExpandedOptions","options","state","optionsArr","option","onclickEvent","icon","name","SINGLE_SOURCE","Editor","ref","useRef","isSaveEnabled","setIsSaveEnabled","isoverlayActive","expandedOptionsVisibilityState","setExpandedOptionsVisibilityState","overlayType","setOverlayType","isEditorActive","editingNote","setNotes","encryptionState","setEncryptionState","useEffect","Object","keys","save","encState","patt","updatedNotes","pos","findIndex","ele","replace","push","optionarr","singleNote","find","findNote","arrString","JSON","stringify","source","blob","Blob","url","URL","createObjectURL","link","document","createElement","download","href","click","alert","heading","editHTML","encryptedText","texto","CryptoJS","AES","encrypt","toString","decryptedText","decrypt","enc","Utf8","class","html","innerRef","Search","setIsSearching","setSearchedNotes","searchValue","setSearchValue","sNotes","filter","placeholder","App","searchedNotes","isSearching","currentTheme","setCurrentTheme","idgenerate","setIdgenerate","isImportSingleNoteActive","setIsImportSingleNoteActive","isImportAllNoteActive","setIsImportAllNoteActive","splice","invertColors","theme","invertPercent","css","head","style","styleSheet","cssText","appendChild","createTextNode","notestring","localStorage","getItem","noteobj","parse","currId","Number","setItem","fr","FileReader","onload","result","objNote","tempNotes","readAsText","noteID","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bef85a6b.chunk.js","sourcesContent":["export function generate_token(length) {\r\n  //edit the token allowed characters\r\n  const a =\r\n    \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\".split(\"\");\r\n  const b = [];\r\n  for (let i = 0; i < length; i++) {\r\n    let j = (Math.random() * (a.length - 1)).toFixed(0);\r\n    b[i] = a[j];\r\n  }\r\n  return b.join(\"\");\r\n}\r\n\r\nexport const improvedSearch = (str, searchedWord) => {\r\n  //   console.time();\r\n  //   debugger;\r\n  // const str=\"He is a boy. This can be difficult. He can understand    this boy. This is it\"\r\n  let lis = str.split(/\\s+/);\r\n  // const searchedWord=\"this boy\"\r\n\r\n  const searchedWordLis = searchedWord.split(/\\s+/);\r\n\r\n  let n = lis.length;\r\n\r\n  let kn = searchedWordLis.length;\r\n  let i = 0;\r\n  for (let word of lis) {\r\n    if (\r\n      searchedWordLis[0].toLowerCase() === word.toLowerCase() ||\r\n      (kn === 1 &&\r\n        searchedWordLis[0].toLowerCase() ===\r\n          word.substr(0, searchedWordLis[0].length).toLowerCase())\r\n    ) {\r\n      console.log(\"true\");\r\n      let k = 0;\r\n      let i2 = i;\r\n\r\n      while (i < n && k < kn) {\r\n        console.log(searchedWordLis[k]);\r\n        console.log(lis[i2]);\r\n\r\n        const searchedCurrentWordLength = searchedWordLis[k].length;\r\n\r\n        if (\r\n          searchedWordLis[k].toLowerCase() === lis[i2].toLowerCase() ||\r\n          (k === kn - 1 &&\r\n            searchedWordLis[k].toLowerCase() ===\r\n              lis[i2].substr(0, searchedCurrentWordLength).toLowerCase())\r\n        ) {\r\n          k++;\r\n        } else {\r\n          break;\r\n        }\r\n        i2++;\r\n      }\r\n      if (k === kn) {\r\n        return true;\r\n      }\r\n    }\r\n    i++;\r\n  }\r\n\r\n  //   console.timeEnd();\r\n  return false;\r\n};\r\n\r\nexport const findNote = (editingNote, notes) => {\r\n  const note = notes.find((note) => note.id === editingNote.id);\r\n  return note;\r\n};\r\n","import \"./Notes.scss\";\r\n// import ReactHtmlParser from \"react-html-parser\";\r\nimport { generate_token } from \"./helper\";\r\nconst Note = (props) => {\r\n  const { note, setIsEditorActive, setEditingNote, deleteNote } = props;\r\n\r\n  const openCurrentNote = () => {\r\n    setIsEditorActive(true);\r\n    const obj = {\r\n      id: note.id,\r\n      fmtext: note.fmtext,\r\n      isEncrypted: note.isEncrypted,\r\n      title: note.title,\r\n    };\r\n    setEditingNote(obj);\r\n  };\r\n\r\n  return (\r\n    <div onClick={openCurrentNote} className=\"Note\">\r\n      <button\r\n        className=\"deleteCross\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          deleteNote(note.id);\r\n        }}\r\n      >\r\n        {\"\\u00D7\"}\r\n      </button>\r\n      <div className=\"titleSection\">{note.title}</div>\r\n      {/* <div className=\"noteSection\">{ReactHtmlParser(note.fmtext)}</div> */}\r\n      <div className=\"noteSection\">{note.rawtext}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Notes = (props) => {\r\n  const { notes, setIsEditorActive, setEditingNote, deleteNote } = props;\r\n\r\n  const noteArray = notes.map((note) => {\r\n    return (\r\n      <Note\r\n        setIsEditorActive={setIsEditorActive}\r\n        key={generate_token(5)}\r\n        note={note}\r\n        setEditingNote={setEditingNote}\r\n        deleteNote={deleteNote}\r\n      />\r\n    );\r\n  });\r\n\r\n  const emptyNoteMessage = () => {\r\n    return <div className=\"emptyMessage\">No notes here</div>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"Notes\">\r\n      {noteArray && noteArray.length > 0 ? noteArray : emptyNoteMessage()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notes;\r\n","import { useState } from \"react\";\r\nimport \"./PasswordOverlay.scss\";\r\n\r\nconst PasswordOverlay = (props) => {\r\n  const [pass, setPass] = useState(\"\");\r\n  const [file, setFile] = useState({});\r\n  const { onSave, setIsoverlayActive, passwordNote, label, isInputJSON } =\r\n    props;\r\n\r\n  const handleChange = (e) => {\r\n    if (isInputJSON) {\r\n      console.log(e.target.files[0]);\r\n      setFile(e.target.files);\r\n    } else {\r\n      setPass(e.target.value);\r\n    }\r\n  };\r\n\r\n  const passwordSelect = () => {\r\n    if (\r\n      (isInputJSON && file.length === 0) ||\r\n      (!isInputJSON && pass.length === 0)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (isInputJSON) {\r\n      console.log(file);\r\n      onSave(file[0]);\r\n    } else {\r\n      onSave(pass);\r\n    }\r\n    setPass(\"\");\r\n    setFile({});\r\n  };\r\n\r\n  const inputJSON = (\r\n    <input\r\n      id=\"fileUploadSingle\"\r\n      className=\"fileUploadInput\"\r\n      accept=\".json\"\r\n      type=\"file\"\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"PasswordOverlay\">\r\n      <div className=\"passwordBox\">\r\n        <div className=\"passwordSection\">\r\n          <label>{`${label}: `} </label>\r\n          {isInputJSON ? (\r\n            inputJSON\r\n          ) : (\r\n            <input autoFocus={true} type=\"text\" onChange={handleChange} />\r\n          )}\r\n        </div>\r\n        {passwordNote}\r\n        <div className=\"passwordButtons\">\r\n          <button onClick={passwordSelect} className=\"select\">\r\n            {\"OK \\u2713\"}\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setIsoverlayActive(false);\r\n              setPass(\"\");\r\n            }}\r\n            className=\"close\"\r\n          >\r\n            {\"Cancel \\u00D7\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordOverlay;\r\n","import { useState } from \"react\";\r\nimport \"./ExpandedOptions.scss\";\r\n\r\nfunction ExpandedOptions(props) {\r\n  const { options, state } = props;\r\n\r\n  const optionsArr = options.map((option) => {\r\n    // console.log()\r\n    return (\r\n      <button onClick={option.onclickEvent} className=\"list\">\r\n        <span className=\"icon\">\r\n          <i\r\n            className={`${option.icon ? `${option.icon}` : \"fa fa-circle\"}`}\r\n          ></i>\r\n        </span>\r\n        <span className=\"name\">{option.name}</span>\r\n      </button>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={`ExpandedOptions ${state ? \"active\" : \"\"}`}>\r\n      {optionsArr}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ExpandedOptions;\r\n","export const SOURCE = \"formattedNotes\";\r\nexport const SINGLE_SOURCE = \"formatedNotes_single\";\r\n","import { useState, useRef, useEffect } from \"react\";\r\nimport \"./Editor.scss\";\r\nimport ContentEditable from \"react-contenteditable\";\r\n\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nimport PasswordOverlay from \"./PasswordOverlay\";\r\nimport ExpandedOptions from \"./ExpandedOptions\";\r\n\r\nimport { SOURCE, SINGLE_SOURCE } from \"./constants\";\r\nimport { findNote } from \"./helper\";\r\n\r\nconst Editor = (props) => {\r\n  const ref = useRef();\r\n  const [isSaveEnabled, setIsSaveEnabled] = useState(false);\r\n  const [isoverlayActive, setIsoverlayActive] = useState(false);\r\n  const [expandedOptionsVisibilityState, setExpandedOptionsVisibilityState] =\r\n    useState(false);\r\n\r\n  // password, title\r\n  const [overlayType, setOverlayType] = useState(\"\");\r\n\r\n  const toggleExpandVisibilityState = () => {\r\n    setExpandedOptionsVisibilityState(!expandedOptionsVisibilityState);\r\n  };\r\n\r\n  const {\r\n    setIsEditorActive,\r\n    isEditorActive,\r\n    editingNote,\r\n    setEditingNote,\r\n    setNotes,\r\n    notes,\r\n    deleteNote,\r\n  } = props;\r\n\r\n  const [encryptionState, setEncryptionState] = useState(\"encrypt\");\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(editingNote).length > 0) {\r\n      setEncryptionState(editingNote.isEncrypted ? \"decrypt\" : \"encrypt\");\r\n    }\r\n  }, [editingNote.isEncrypted]);\r\n\r\n  useEffect(() => {\r\n    if (!isEditorActive) {\r\n      setExpandedOptionsVisibilityState(false);\r\n    }\r\n  }, [isEditorActive]);\r\n\r\n  const encrypt = (texto, pass) => {\r\n    const encrypted = CryptoJS.AES.encrypt(texto, pass);\r\n    return encrypted;\r\n  };\r\n\r\n  const decrypt = (texto, pass) => {\r\n    // debugger;\r\n    const decrypted = CryptoJS.AES.decrypt(texto, pass);\r\n    const res = decrypted.toString(CryptoJS.enc.Utf8);\r\n    // debugger;\r\n    return res;\r\n  };\r\n\r\n  const save = (state = \"null\", value = \"\", encState = \"\") => {\r\n    // debugger;\r\n    // const patt = /<\\/*[a-z]+>/g;\r\n    const patt = /<\\/*[^>]+>/g;\r\n    let str;\r\n    let obj;\r\n    const updatedNotes = [...notes];\r\n\r\n    let pos = updatedNotes.findIndex((ele) => ele.id === editingNote.id);\r\n    if (state === \"encrypt\") {\r\n      str = \"\";\r\n      if (encState === \"encrypt\") {\r\n        str = value.split(patt).join(\" \");\r\n        str = str.replace(/&nbsp;/g, \" \");\r\n      }\r\n      obj = {\r\n        id: editingNote.id,\r\n        fmtext: value,\r\n        rawtext: str,\r\n        isEncrypted: encState === \"decrypt\",\r\n        title: editingNote.title,\r\n      };\r\n    } else if (state === \"assignTitle\") {\r\n      obj = {\r\n        id: editingNote.id,\r\n        fmtext: editingNote.fmtext,\r\n        rawtext: editingNote.rawtext,\r\n        isEncrypted: encState === \"decrypt\",\r\n        title: value,\r\n      };\r\n    } else {\r\n      str = editingNote.fmtext.split(patt).join(\" \");\r\n      str = str.replace(/&nbsp;/g, \" \");\r\n      console.log(\"rawstring: \", str);\r\n      obj = {\r\n        id: editingNote.id,\r\n        fmtext: editingNote.fmtext,\r\n        rawtext: str,\r\n        isEncrypted: encState === \"decrypt\",\r\n        title: editingNote.title,\r\n      };\r\n    }\r\n\r\n    if (pos === -1) {\r\n      updatedNotes.push(obj);\r\n    } else {\r\n      updatedNotes[pos] = obj;\r\n    }\r\n\r\n    setNotes(updatedNotes);\r\n  };\r\n\r\n  const assignTitle = (title) => {\r\n    if (title.length > 100) {\r\n      alert(\"Title is too long\");\r\n      return;\r\n    }\r\n    setIsoverlayActive(false);\r\n    setEditingNote({ ...editingNote, title: title });\r\n    save(\"assignTitle\", title);\r\n  };\r\n\r\n  const Encrypt = () => {\r\n    if (editingNote.fmtext.length === 0) {\r\n      alert(\"Type something first\");\r\n      return;\r\n    }\r\n    setOverlayType(\"password\");\r\n    setIsoverlayActive(true);\r\n  };\r\n\r\n  const Encrypting = (pass) => {\r\n    const str = editingNote.fmtext;\r\n    // debugger;\r\n    // console.log(\"editingnote: \", str);\r\n    let value;\r\n    let encState;\r\n    if (encryptionState === \"encrypt\") {\r\n      encState = \"decrypt\";\r\n      const encryptedText = encrypt(str, pass).toString();\r\n\r\n      value = encryptedText;\r\n      setEditingNote({ ...editingNote, fmtext: encryptedText });\r\n    } else {\r\n      const decryptedText = decrypt(str, pass);\r\n      // debugger;\r\n      if (decryptedText.length === 0) {\r\n        alert(\"Wrong Password.Try again\");\r\n\r\n        return;\r\n      }\r\n\r\n      encState = \"encrypt\";\r\n      value = decryptedText;\r\n      setEditingNote({ ...editingNote, fmtext: decryptedText });\r\n    }\r\n    setIsoverlayActive(false);\r\n    setEncryptionState(encState);\r\n    save(\"encrypt\", value, encState);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setEditingNote({ ...editingNote, fmtext: e.target.value });\r\n    setIsSaveEnabled(true);\r\n  };\r\n\r\n  const close = () => {\r\n    setIsEditorActive(false);\r\n    setEditingNote({});\r\n    setIsSaveEnabled(false);\r\n  };\r\n\r\n  const deleteFn = () => {\r\n    setIsEditorActive(false);\r\n    setIsSaveEnabled(false);\r\n    deleteNote(editingNote.id);\r\n  };\r\n\r\n  const passwordNote = () => {\r\n    if (overlayType === \"password\") {\r\n      return encryptionState === \"encrypt\" ? (\r\n        <div className=\"passwordNote\">\r\n          <span>Note: </span> Make sure to remember the password. Only this\r\n          password will be able to decrypt the current note.\r\n        </div>\r\n      ) : (\r\n        <div className=\"passwordNote\">\r\n          Type the password which you have used to encrypt this before to\r\n          decrypt it.\r\n        </div>\r\n      );\r\n    } else if (overlayType === \"title\") {\r\n      return (\r\n        <div className=\"passwordNote\">\r\n          Assign the current note a name or title to help to identify a note\r\n          when its encrypted.\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div className=\"passwordNote\"></div>;\r\n    }\r\n  };\r\n\r\n  const exp = () => {\r\n    console.log(\"exportEach\");\r\n    const source = SINGLE_SOURCE;\r\n    const singleNote = findNote(editingNote, notes);\r\n    if (!singleNote) {\r\n      alert(\"Make sure to save the current note first\");\r\n      return;\r\n    }\r\n    const arrString = JSON.stringify({ source, singleNote });\r\n    // console.log(arrString);\r\n    const blob = new Blob([arrString], { type: \"text/json\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.download = `exportNote${singleNote.id}.json`;\r\n    link.href = url;\r\n    link.click();\r\n    setExpandedOptionsVisibilityState(false);\r\n  };\r\n\r\n  const optionarr = [\r\n    { icon: \"fa fa-trash\", name: \"Delete\", onclickEvent: deleteFn },\r\n    { icon: \"fa-solid fa-file-export\", name: \"Export\", onclickEvent: exp },\r\n  ];\r\n\r\n  const heading = editingNote.title ? editingNote.title : \"Untitled\";\r\n  const editHTML =\r\n    encryptionState === \"decrypt\"\r\n      ? \"Locked\"\r\n      : editingNote.fmtext\r\n      ? editingNote.fmtext\r\n      : \"\";\r\n\r\n  return (\r\n    <div className={`EditorContainer ${isEditorActive ? \"active\" : \"\"}`}>\r\n      <div className={`Editor ${isEditorActive ? \"active\" : \"\"}`}>\r\n        {isoverlayActive ? (\r\n          <PasswordOverlay\r\n            label={overlayType === \"password\" ? \"Password\" : \"Title\"}\r\n            passwordNote={passwordNote()}\r\n            onSave={overlayType === \"password\" ? Encrypting : assignTitle}\r\n            setIsoverlayActive={setIsoverlayActive}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <header className=\"options\">\r\n          <div className=\"leftButtons\">\r\n            <button\r\n              title=\"Close current note\"\r\n              onClick={close}\r\n              className=\"close\"\r\n            >\r\n              {\"\\u00D7\"}\r\n            </button>\r\n            <div className=\"title\">\r\n              <span title={heading}>{heading}</span>\r\n              <button\r\n                onClick={() => {\r\n                  setOverlayType(\"title\");\r\n                  setIsoverlayActive(true);\r\n                }}\r\n                className=\"editTitle\"\r\n              >\r\n                {/* <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> */}\r\n                <i class=\"fa-solid fa-pencil\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"rightButtons\">\r\n            <button\r\n              title={`Current note is in ${\r\n                encryptionState === \"decrypt\" ? \"encrypted\" : \"decrypted\"\r\n              } form. Click to ${encryptionState} it.`}\r\n              onClick={Encrypt}\r\n              className=\"encrypt\"\r\n            >\r\n              <i\r\n                class={`fa fa-${\r\n                  encryptionState === \"encrypt\" ? \"lock-open\" : \"lock\"\r\n                }`}\r\n                aria-hidden=\"true\"\r\n              ></i>\r\n            </button>\r\n\r\n            <button\r\n              title=\"Save current note\"\r\n              onClick={isSaveEnabled ? save : null}\r\n              className={`save ${isSaveEnabled ? \"active\" : \"\"}`}\r\n            >\r\n              {\"\\u2713\"}\r\n            </button>\r\n            <button\r\n              onClick={toggleExpandVisibilityState}\r\n              title=\"Expand more options\"\r\n              className={`threedots`}\r\n            >\r\n              <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </div>\r\n        </header>\r\n        <div className=\"titleBar\">{heading}</div>\r\n        <div className=\"article\">\r\n          <ContentEditable\r\n            className=\"edit\"\r\n            html={editHTML}\r\n            innerRef={ref}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <ExpandedOptions\r\n          state={expandedOptionsVisibilityState}\r\n          options={optionarr}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./Search.scss\";\r\nimport { improvedSearch } from \"./helper\";\r\n\r\nconst Search = (props) => {\r\n  const { setIsSearching, notes, setSearchedNotes } = props;\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (notes.length === 0) {\r\n      return;\r\n    }\r\n\r\n    if (searchValue.length === 0) {\r\n      setIsSearching(false);\r\n      setSearchedNotes([]);\r\n      return;\r\n    }\r\n\r\n    let sNotes = notes.filter(\r\n      (note) =>\r\n        (note?.title !== \"Untitled\" &&\r\n          improvedSearch(note?.title, searchValue)) ||\r\n        improvedSearch(note?.rawtext, searchValue)\r\n    );\r\n\r\n    setIsSearching(true);\r\n    setSearchedNotes(sNotes);\r\n    return;\r\n\r\n    let searchednotes = [];\r\n    for (let note of notes) {\r\n      let text = note.rawtext;\r\n      const title = note.title;\r\n      if (title === \"Untitled\") {\r\n      }\r\n      let words = text.split(\" \");\r\n\r\n      const len = searchValue.length;\r\n      const pos = words.findIndex(\r\n        (word) =>\r\n          word.substr(0, len).toLowerCase() === searchValue.toLowerCase()\r\n      );\r\n      if (pos === -1) {\r\n        continue;\r\n      }\r\n\r\n      searchednotes.push(note);\r\n    }\r\n\r\n    setIsSearching(true);\r\n    setSearchedNotes(searchednotes);\r\n  }, [searchValue]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleChange = (e) => {\r\n    setSearchValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <input\r\n        className=\"searchInput\"\r\n        type=\"text\"\r\n        placeholder=\"Search notes\"\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { useState, useEffect } from \"react\";\r\nimport \"./App.scss\";\r\n\r\nimport Notes from \"./Notes\";\r\nimport Editor from \"./Editor\";\r\nimport Search from \"./Search\";\r\nimport PasswordOverlay from \"./PasswordOverlay\";\r\nimport { generate_token } from \"./helper\";\r\nimport { SOURCE, SINGLE_SOURCE } from \"./constants\";\r\n\r\nfunction App() {\r\n  const [notes, setNotes] = useState([]);\r\n  const [searchedNotes, setSearchedNotes] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [currentTheme, setCurrentTheme] = useState(\"light\");\r\n\r\n  const [isEditorActive, setIsEditorActive] = useState(false);\r\n  const [editingNote, setEditingNote] = useState({});\r\n  const [idgenerate, setIdgenerate] = useState(0);\r\n\r\n  const [isImportSingleNoteActive, setIsImportSingleNoteActive] =\r\n    useState(false);\r\n  const [isImportAllNoteActive, setIsImportAllNoteActive] = useState(false);\r\n\r\n  const deleteNote = (id) => {\r\n    const updatedNotes = [...notes];\r\n    const pos = updatedNotes.findIndex((ele) => ele.id === id);\r\n    updatedNotes.splice(pos, 1);\r\n    setNotes(updatedNotes);\r\n  };\r\n\r\n  const exp = () => {\r\n    console.log(\"exportall\");\r\n    const noteID = localStorage.getItem(\"noteID\");\r\n    const source = localStorage.getItem(\"source\");\r\n    const arrString = JSON.stringify({ noteID, source, notes });\r\n    // console.log(arrString);\r\n    const blob = new Blob([arrString], { type: \"text/json\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.download = \"export.json\";\r\n    link.href = url;\r\n    link.click();\r\n  };\r\n\r\n  const invertColors = (theme) => {\r\n    const invertPercent = theme === \"dark\" ? 100 : 0;\r\n    const css = `html {\r\n      -webkit-filter: invert(${invertPercent}%);\r\n      -moz-filter: invert(${invertPercent}%);\r\n      -o-filter: invert(${invertPercent}%);\r\n      -ms-filter: invert(${invertPercent}%);\r\n    }\r\n\r\n    html img,video,iframe{\r\n      -webkit-filter: invert(${invertPercent}%);\r\n      -moz-filter: invert(${invertPercent}%);\r\n      -o-filter: invert(${invertPercent}%);\r\n      -ms-filter: invert(${invertPercent}%);\r\n    }\r\n    \r\n    `;\r\n    const head = document.head;\r\n    const style = document.createElement(\"style\");\r\n    style.type = \"text/css\";\r\n    if (style.styleSheet) {\r\n      style.styleSheet.cssText = css;\r\n    } else {\r\n      style.appendChild(document.createTextNode(css));\r\n    }\r\n    head.appendChild(style);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const notestring = localStorage.getItem(\"notes\");\r\n    if (notestring && notestring.length > 0) {\r\n      const noteobj = JSON.parse(notestring);\r\n      setNotes(noteobj);\r\n    }\r\n    let currId = localStorage.getItem(\"noteID\");\r\n    if (currId) {\r\n      setIdgenerate(Number(currId));\r\n    } else {\r\n      localStorage.setItem(\"noteID\", \"0\");\r\n    }\r\n\r\n    let source = localStorage.getItem(\"source\");\r\n    if (!source) {\r\n      localStorage.setItem(\"source\", \"formattedNotes\");\r\n    }\r\n\r\n    // invertColors();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const arrString = JSON.stringify(notes);\r\n    localStorage.setItem(\"notes\", arrString);\r\n    console.log(\"notes: \", notes);\r\n  }, [notes]);\r\n\r\n  const toggleTheme = () => {\r\n    if (currentTheme === \"light\") {\r\n      setCurrentTheme(\"dark\");\r\n      invertColors(\"dark\");\r\n    } else {\r\n      setCurrentTheme(\"light\");\r\n      invertColors(\"light\");\r\n    }\r\n  };\r\n\r\n  const openNewNote = () => {\r\n    setIsEditorActive(true);\r\n    const obj = {\r\n      id: idgenerate,\r\n      fmtext: \"\",\r\n      isEncrypted: false,\r\n      title: \"Untitled\",\r\n    };\r\n\r\n    setEditingNote(obj);\r\n    setIdgenerate(idgenerate + 1);\r\n    localStorage.setItem(\"noteID\", (idgenerate + 1).toString());\r\n  };\r\n\r\n  const importSingle = (file) => {\r\n    console.log(\"import_single: \", file);\r\n    const fr = new FileReader();\r\n    fr.onload = () => {\r\n      const obj = JSON.parse(fr.result);\r\n      console.log(\"importedFile: \", obj);\r\n      if (!obj.source || obj.source !== SINGLE_SOURCE) {\r\n        alert(\"Wrong file\");\r\n        return;\r\n      }\r\n\r\n      const objNote = { ...obj.singleNote, id: idgenerate };\r\n\r\n      const tempNotes = [...notes, objNote];\r\n      setNotes(tempNotes);\r\n\r\n      setIdgenerate(idgenerate + 1);\r\n      localStorage.setItem(\"noteID\", (idgenerate + 1).toString());\r\n    };\r\n\r\n    if (file) fr.readAsText(file);\r\n    setIsImportSingleNoteActive(false);\r\n  };\r\n\r\n  const importAll = (file) => {\r\n    console.log(\"import_all: \", file);\r\n    const fr = new FileReader();\r\n    fr.onload = () => {\r\n      const obj = JSON.parse(fr.result);\r\n      console.log(\"importedFile: \", obj);\r\n      if (!obj.source || obj.source !== SOURCE) {\r\n        alert(\"Wrong file\");\r\n        return;\r\n      }\r\n\r\n      // const objNote = { ...obj.singleNote, id: idgenerate };\r\n\r\n      const tempNotes = [...obj.notes];\r\n      setNotes(tempNotes);\r\n      localStorage.setItem(\"noteID\", obj.noteID);\r\n    };\r\n\r\n    if (file) fr.readAsText(file);\r\n    setIsImportSingleNoteActive(false);\r\n  };\r\n\r\n  const importSingleNote = \"Import the json file of a note to be imported\";\r\n  const importAllNote = \"Import the json file containing whole workspace\";\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Search\r\n        setIsSearching={setIsSearching}\r\n        notes={notes}\r\n        setSearchedNotes={setSearchedNotes}\r\n      />\r\n      <Notes\r\n        setIsEditorActive={setIsEditorActive}\r\n        notes={isSearching ? searchedNotes : notes}\r\n        setEditingNote={setEditingNote}\r\n        deleteNote={deleteNote}\r\n      />\r\n      {isImportSingleNoteActive ? (\r\n        <PasswordOverlay\r\n          isInputJSON={true}\r\n          onSave={importSingle}\r\n          setIsoverlayActive={setIsImportSingleNoteActive}\r\n          passwordNote={importSingleNote}\r\n          label=\"Upload file\"\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {isImportAllNoteActive ? (\r\n        <PasswordOverlay\r\n          isInputJSON={true}\r\n          onSave={importAll}\r\n          setIsoverlayActive={setIsImportAllNoteActive}\r\n          passwordNote={importAllNote}\r\n          label=\"Upload file\"\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <button title=\"Export notes\" className=\"exportAll\" onClick={exp}>\r\n        <i className=\"fa-solid fa-file-export\"></i>\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          setIsImportSingleNoteActive(true);\r\n        }}\r\n        title=\"Import single note\"\r\n        className=\"importSingle\"\r\n      >\r\n        <i class=\"fa-solid fa-upload\"></i>\r\n      </button>\r\n\r\n      <button\r\n        onClick={() => {\r\n          setIsImportAllNoteActive(true);\r\n        }}\r\n        title=\"Import all notes\"\r\n        className=\"importAll\"\r\n      >\r\n        <i class=\"fa-solid fa-file-import\"></i>\r\n      </button>\r\n\r\n      <button onClick={openNewNote} className=\"addNew\">\r\n        {\"\\u002B\"}\r\n      </button>\r\n      <button onClick={toggleTheme} className=\"toggleTheme\">\r\n        <i\r\n          class={`fa-solid fa-${currentTheme === \"light\" ? \"sun\" : \"moon\"}`}\r\n          aria-hidden=\"true\"\r\n        ></i>\r\n      </button>\r\n\r\n      <Editor\r\n        editingNote={editingNote}\r\n        setEditingNote={setEditingNote}\r\n        isEditorActive={isEditorActive}\r\n        setIsEditorActive={setIsEditorActive}\r\n        notes={notes}\r\n        setNotes={setNotes}\r\n        deleteNote={deleteNote}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  /* </React.StrictMode> */\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}